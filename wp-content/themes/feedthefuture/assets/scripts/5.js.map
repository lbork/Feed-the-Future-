{"version":3,"sources":["webpack:///5.js","webpack:///./views/modules/carousel-block/index.js"],"names":["webpackJsonp","10","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","CarouselBlock","el","this","addScrollTrack","setVariables","setUp","addListeners","current","list","querySelector","slides","querySelectorAll","numSlides","setSlideRatio","getContainerWidth","slideRatio","containerWidth","clientWidth","setAttribute","addCaptionContainer","setDimensions","checkScroll","addButtons","scrollTrack","document","createElement","classList","add","wrapper","innerHTML","appendChild","slideCaption","parentNode","insertBefore","nextSibling","setContainerDimensions","setSlideDimensions","style","height","width","len","slidePrev","textContent","slideNext","addEventListener","prevSlide","bind","nextSlide","window","debounce","updateDimensions","scrollPos","Math","round","scrollLeft","updateCurrent","pos","updateCaption","scrollTo","caption","changeSlides","dir","newSlide","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","element","to","duration","difference","perTick","default"],"mappings":"AAAAA,cAAc,IAERC,GACA,SAAUC,EAAQC,EAASC,GAEjC,YASA,SAASC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHC,OAAOC,eAAeP,EAAS,cAC7BQ,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMZ,OAAOC,eAAeI,EAAQI,EAAWI,IAAKJ,IAAiB,MAAO,UAAUX,EAAagB,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBN,EAAYkB,UAAWF,GAAiBC,GAAaX,EAAiBN,EAAaiB,GAAqBjB,MCZ3gBmB,EDgBD,WCflB,QAAAA,GAAYC,GAAItB,EAAAuB,KAAAF,GACdE,KAAKD,GAAKA,EAEVC,KAAKC,iBACLD,KAAKE,eACLF,KAAKG,QACLH,KAAKI,eDoOP,MA3MApB,GAAac,IACXJ,IAAK,eACLX,MAAO,WCnBPiB,KAAKK,QAAU,KAEfL,KAAKM,KAAON,KAAKD,GAAGQ,cAAc,eAClCP,KAAKQ,OAASR,KAAKM,KAAKG,iBAAiB,gBACzCT,KAAKU,UAAYV,KAAKQ,OAAOnB,OAE7BW,KAAKW,gBACLX,KAAKY,uBDuBLlB,IAAK,gBACLX,MAAO,WCpBPiB,KAAKa,WAAa,EAAI,MDwBtBnB,IAAK,oBACLX,MAAO,WCrBPiB,KAAKc,eAAiBd,KAAKD,GAAGgB,eD8B9BrB,IAAK,QACLX,MAAO,WCvBPiB,KAAKD,GAAGiB,aAAa,YAAa,IAElChB,KAAKiB,sBACLjB,KAAKkB,gBACLlB,KAAKmB,cACLnB,KAAKoB,gBD2BL1B,IAAK,iBACLX,MAAO,WCxBPiB,KAAKqB,YAAcC,SAASC,cAAc,OAC1CvB,KAAKqB,YAAYG,UAAUC,IAAI,gCAE/BzB,KAAK0B,QAAUJ,SAASC,cAAc,OACtCvB,KAAK0B,QAAQF,UAAUC,IAAI,2BAE3BzB,KAAKqB,YAAYM,UAAY3B,KAAKD,GAAG4B,UACrC3B,KAAKD,GAAG4B,UAAY,GAEpB3B,KAAK0B,QAAQE,YAAY5B,KAAKqB,aAC9BrB,KAAKD,GAAG6B,YAAY5B,KAAK0B,YD4BzBhC,IAAK,sBACLX,MAAO,WCzBPiB,KAAK6B,aAAeP,SAASC,cAAc,OAC3CvB,KAAK6B,aAAaL,UAAUC,IAAI,qCAChCzB,KAAK6B,aAAab,aAAa,YAAa,UAE5ChB,KAAKD,GAAG+B,WAAWC,aAAa/B,KAAK6B,aAAc7B,KAAKD,GAAGiC,gBD6B3DtC,IAAK,gBACLX,MAAO,WC1BPiB,KAAKiC,yBACLjC,KAAKkC,wBD8BLxC,IAAK,yBACLX,MAAO,WC3BPiB,KAAK0B,QAAQS,MAAMC,OAASpC,KAAKc,eAAiBd,KAAKa,WAAa,KACpEb,KAAKM,KAAK6B,MAAME,MAAQrC,KAAKc,eAAiBd,KAAKU,UAAY,QD+B/DhB,IAAK,qBACLX,MAAO,WC5BP,IAAK,GAAIK,GAAI,EAAGkD,EAAMtC,KAAKQ,OAAOnB,OAAQD,EAAIkD,EAAKlD,IACjDY,KAAKQ,OAAOpB,GAAG+C,MAAME,MAAQrC,KAAKc,eAAiB,KACnDd,KAAKQ,OAAOpB,GAAG+C,MAAMC,OAASpC,KAAKc,eAAiBd,KAAKa,WAAa,QDiCxEnB,IAAK,aACLX,MAAO,WC7BPiB,KAAKuC,UAAYjB,SAASC,cAAc,UACxCvB,KAAKuC,UAAUC,YAAc,WAC7BxC,KAAKuC,UAAUf,UAAUC,IAAI,4BAC7BzB,KAAKuC,UAAUvB,aAAa,cAAe,QAC3ChB,KAAKuC,UAAUvB,aAAa,WAAY,MAExChB,KAAKyC,UAAYnB,SAASC,cAAc,UACxCvB,KAAKyC,UAAUD,YAAc,OAC7BxC,KAAKyC,UAAUjB,UAAUC,IAAI,wBAC7BzB,KAAKyC,UAAUzB,aAAa,cAAe,QAC3ChB,KAAKyC,UAAUzB,aAAa,WAAY,MAExChB,KAAKD,GAAG6B,YAAY5B,KAAKuC,WACzBvC,KAAKD,GAAG6B,YAAY5B,KAAKyC,cDsCzB/C,IAAK,eACLX,MAAO,WC/BPiB,KAAKuC,UAAUG,iBAAiB,QAAS1C,KAAK2C,UAAUC,KAAK5C,OAC7DA,KAAKyC,UAAUC,iBAAiB,QAAS1C,KAAK6C,UAAUD,KAAK5C,OAE7D8C,OAAOJ,iBACL,SACA1C,KAAK+C,SAAS/C,KAAKgD,iBAAiBJ,KAAK5C,MAAO,KAGlDA,KAAKqB,YAAYqB,iBACf,SACA1C,KAAK+C,SAAS/C,KAAKmB,YAAYyB,KAAK5C,MAAO,QD8B7CN,IAAK,cACLX,MAAO,WC1BP,GAAIkE,GAAYC,KAAKC,MACnBnD,KAAKqB,YAAY+B,WAAapD,KAAKc,eAEjCmC,KAAcjD,KAAKK,SAASL,KAAKqD,cAAcJ,MD4BnDvD,IAAK,gBACLX,MAAO,SC1BKuE,GACZtD,KAAKK,QAAUiD,EACftD,KAAKuD,mBD6BL7D,IAAK,mBACLX,MAAO,WC1BPiB,KAAKY,oBACLZ,KAAKkB,gBAELlB,KAAKwD,SAASxD,KAAKqB,YAAarB,KAAKc,eAAiBd,KAAKK,QAAS,OD8BpEX,IAAK,gBACLX,MAAO,WC3BP,GAAI0E,GAAUzD,KAAKQ,OAAOR,KAAKK,SAASE,cACtC,uBAEFP,MAAK6B,aAAaF,UAAY8B,EAAQ9B,aD6BtCjC,IAAK,YACLX,MAAO,WC1BPiB,KAAK0D,cAAc,MD8BnBhE,IAAK,YACLX,MAAO,WC3BPiB,KAAK0D,aAAa,MD+BlBhE,IAAK,eACLX,MAAO,SC7BI4E,GACX,GAAIC,GAAW5D,KAAKK,QAAUsD,CAC9B3D,MAAKD,GAAGiB,aAAa,iBAA0B,IAAR2C,EAAY,OAAS,QAExDC,EAAW,EACbA,EAAW5D,KAAKU,UAAY,EACnBkD,EAAW5D,KAAKU,UAAY,IACrCkD,EAAW,GAGb5D,KAAKwD,SAASxD,KAAKqB,YAAarB,KAAKc,eAAiB8C,EAAU,QDqChElE,IAAK,WACLX,MAAO,SC/BA8E,EAAMC,EAAMC,GACnB,GAAIC,SAEJ,OAAO,YACL,GAAIC,GAAUjE,KACZkE,EAAOC,UACLC,EAAQ,WACVJ,EAAU,KACLD,GAAWF,EAAKQ,MAAMJ,EAASC,IAGlCI,EAAUP,IAAcC,CAC5BO,cAAaP,GACbA,EAAUQ,WAAWJ,EAAON,GACxBQ,GAAST,EAAKQ,MAAMJ,EAASC,ODmCnCxE,IAAK,WACLX,MAAO,SChCA0F,EAASC,EAAIC,GACpB,KAAIA,GAAY,GAAhB,CACA,GAAIC,GAAaF,EAAKD,EAAQrB,WAC1ByB,EAAUD,EAAaD,EAAW,EAEtCH,YACE,WACEC,EAAQrB,WAAaqB,EAAQrB,WAAayB,EACtCJ,EAAQrB,aAAesB,GAC3B1E,KAAKwD,SAASiB,EAASC,EAAIC,EAAW,KACtC/B,KAAK5C,MACP,SDkCGF,IAGTvB,GAAQuG,QC9OahF","file":"5.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CarouselBlock = function () {\n  function CarouselBlock(el) {\n    _classCallCheck(this, CarouselBlock);\n\n    this.el = el;\n\n    this.addScrollTrack();\n    this.setVariables();\n    this.setUp();\n    this.addListeners();\n  }\n\n  /*\n   * variables\n   */\n\n  _createClass(CarouselBlock, [{\n    key: 'setVariables',\n    value: function setVariables() {\n      this.current = null;\n\n      this.list = this.el.querySelector('[data-list]');\n      this.slides = this.list.querySelectorAll('[data-slide]');\n      this.numSlides = this.slides.length;\n\n      this.setSlideRatio();\n      this.getContainerWidth();\n    }\n  }, {\n    key: 'setSlideRatio',\n    value: function setSlideRatio() {\n      this.slideRatio = 9 / 16;\n    }\n  }, {\n    key: 'getContainerWidth',\n    value: function getContainerWidth() {\n      this.containerWidth = this.el.clientWidth;\n    }\n\n    /*\n     * set up\n     */\n\n  }, {\n    key: 'setUp',\n    value: function setUp() {\n      this.el.setAttribute('data-init', '');\n\n      this.addCaptionContainer();\n      this.setDimensions();\n      this.checkScroll();\n      this.addButtons();\n    }\n  }, {\n    key: 'addScrollTrack',\n    value: function addScrollTrack() {\n      this.scrollTrack = document.createElement('div');\n      this.scrollTrack.classList.add('carousel-block__scroll-track');\n\n      this.wrapper = document.createElement('div');\n      this.wrapper.classList.add('carousel-block__wrapper');\n\n      this.scrollTrack.innerHTML = this.el.innerHTML;\n      this.el.innerHTML = '';\n\n      this.wrapper.appendChild(this.scrollTrack);\n      this.el.appendChild(this.wrapper);\n    }\n  }, {\n    key: 'addCaptionContainer',\n    value: function addCaptionContainer() {\n      this.slideCaption = document.createElement('div');\n      this.slideCaption.classList.add('carousel-block__caption-container');\n      this.slideCaption.setAttribute('aria-live', 'polite');\n\n      this.el.parentNode.insertBefore(this.slideCaption, this.el.nextSibling);\n    }\n  }, {\n    key: 'setDimensions',\n    value: function setDimensions() {\n      this.setContainerDimensions();\n      this.setSlideDimensions();\n    }\n  }, {\n    key: 'setContainerDimensions',\n    value: function setContainerDimensions() {\n      this.wrapper.style.height = this.containerWidth * this.slideRatio + 'px';\n      this.list.style.width = this.containerWidth * this.numSlides + 'px';\n    }\n  }, {\n    key: 'setSlideDimensions',\n    value: function setSlideDimensions() {\n      for (var i = 0, len = this.slides.length; i < len; i++) {\n        this.slides[i].style.width = this.containerWidth + 'px';\n        this.slides[i].style.height = this.containerWidth * this.slideRatio + 'px';\n      }\n    }\n  }, {\n    key: 'addButtons',\n    value: function addButtons() {\n      this.slidePrev = document.createElement('button');\n      this.slidePrev.textContent = 'Previous';\n      this.slidePrev.classList.add('carousel-block__previous');\n      this.slidePrev.setAttribute('aria-hidden', 'true');\n      this.slidePrev.setAttribute('tabindex', '-1');\n\n      this.slideNext = document.createElement('button');\n      this.slideNext.textContent = 'Next';\n      this.slideNext.classList.add('carousel-block__next');\n      this.slideNext.setAttribute('aria-hidden', 'true');\n      this.slideNext.setAttribute('tabindex', '-1');\n\n      this.el.appendChild(this.slidePrev);\n      this.el.appendChild(this.slideNext);\n    }\n\n    /*\n     * events\n     */\n\n  }, {\n    key: 'addListeners',\n    value: function addListeners() {\n      this.slidePrev.addEventListener('click', this.prevSlide.bind(this));\n      this.slideNext.addEventListener('click', this.nextSlide.bind(this));\n\n      window.addEventListener('resize', this.debounce(this.updateDimensions.bind(this), 50));\n\n      this.scrollTrack.addEventListener('scroll', this.debounce(this.checkScroll.bind(this), 50));\n    }\n  }, {\n    key: 'checkScroll',\n    value: function checkScroll() {\n      var scrollPos = Math.round(this.scrollTrack.scrollLeft / this.containerWidth);\n      if (scrollPos !== this.current) this.updateCurrent(scrollPos);\n    }\n  }, {\n    key: 'updateCurrent',\n    value: function updateCurrent(pos) {\n      this.current = pos;\n      this.updateCaption();\n    }\n  }, {\n    key: 'updateDimensions',\n    value: function updateDimensions() {\n      this.getContainerWidth();\n      this.setDimensions();\n\n      this.scrollTo(this.scrollTrack, this.containerWidth * this.current, 50);\n    }\n  }, {\n    key: 'updateCaption',\n    value: function updateCaption() {\n      var caption = this.slides[this.current].querySelector('[data-slide-caption]');\n      this.slideCaption.innerHTML = caption.innerHTML;\n    }\n  }, {\n    key: 'prevSlide',\n    value: function prevSlide() {\n      this.changeSlides(-1);\n    }\n  }, {\n    key: 'nextSlide',\n    value: function nextSlide() {\n      this.changeSlides(1);\n    }\n  }, {\n    key: 'changeSlides',\n    value: function changeSlides(dir) {\n      var newSlide = this.current + dir;\n      this.el.setAttribute('data-direction', dir === 1 ? 'next' : 'prev');\n\n      if (newSlide < 0) {\n        newSlide = this.numSlides - 1;\n      } else if (newSlide > this.numSlides - 1) {\n        newSlide = 0;\n      }\n\n      this.scrollTo(this.scrollTrack, this.containerWidth * newSlide, 200);\n    }\n\n    /*\n     * utilities\n     */\n\n  }, {\n    key: 'debounce',\n    value: function debounce(func, wait, immediate) {\n      var timeout = void 0;\n\n      return function () {\n        var context = this,\n            args = arguments;\n        var later = function later() {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    }\n  }, {\n    key: 'scrollTo',\n    value: function scrollTo(element, to, duration) {\n      if (duration <= 0) return;\n      var difference = to - element.scrollLeft;\n      var perTick = difference / duration * 10;\n\n      setTimeout(function () {\n        element.scrollLeft = element.scrollLeft + perTick;\n        if (element.scrollLeft === to) return;\n        this.scrollTo(element, to, duration - 10);\n      }.bind(this), 10);\n    }\n  }]);\n\n  return CarouselBlock;\n}();\n\nexports.default = CarouselBlock;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 5.js","export default class CarouselBlock {\n  constructor(el) {\n    this.el = el\n\n    this.addScrollTrack()\n    this.setVariables()\n    this.setUp()\n    this.addListeners()\n  }\n\n  /*\n   * variables\n   */\n\n  setVariables() {\n    this.current = null\n\n    this.list = this.el.querySelector('[data-list]')\n    this.slides = this.list.querySelectorAll('[data-slide]')\n    this.numSlides = this.slides.length\n\n    this.setSlideRatio()\n    this.getContainerWidth()\n  }\n\n  setSlideRatio() {\n    this.slideRatio = 9 / 16\n  }\n\n  getContainerWidth() {\n    this.containerWidth = this.el.clientWidth\n  }\n\n  /*\n   * set up\n   */\n\n  setUp() {\n    this.el.setAttribute('data-init', '')\n\n    this.addCaptionContainer()\n    this.setDimensions()\n    this.checkScroll()\n    this.addButtons()\n  }\n\n  addScrollTrack() {\n    this.scrollTrack = document.createElement('div')\n    this.scrollTrack.classList.add('carousel-block__scroll-track')\n\n    this.wrapper = document.createElement('div')\n    this.wrapper.classList.add('carousel-block__wrapper')\n\n    this.scrollTrack.innerHTML = this.el.innerHTML\n    this.el.innerHTML = ''\n\n    this.wrapper.appendChild(this.scrollTrack)\n    this.el.appendChild(this.wrapper)\n  }\n\n  addCaptionContainer() {\n    this.slideCaption = document.createElement('div')\n    this.slideCaption.classList.add('carousel-block__caption-container')\n    this.slideCaption.setAttribute('aria-live', 'polite')\n\n    this.el.parentNode.insertBefore(this.slideCaption, this.el.nextSibling)\n  }\n\n  setDimensions() {\n    this.setContainerDimensions()\n    this.setSlideDimensions()\n  }\n\n  setContainerDimensions() {\n    this.wrapper.style.height = this.containerWidth * this.slideRatio + 'px'\n    this.list.style.width = this.containerWidth * this.numSlides + 'px'\n  }\n\n  setSlideDimensions() {\n    for (let i = 0, len = this.slides.length; i < len; i++) {\n      this.slides[i].style.width = this.containerWidth + 'px'\n      this.slides[i].style.height = this.containerWidth * this.slideRatio + 'px'\n    }\n  }\n\n  addButtons() {\n    this.slidePrev = document.createElement('button')\n    this.slidePrev.textContent = 'Previous'\n    this.slidePrev.classList.add('carousel-block__previous')\n    this.slidePrev.setAttribute('aria-hidden', 'true')\n    this.slidePrev.setAttribute('tabindex', '-1')\n\n    this.slideNext = document.createElement('button')\n    this.slideNext.textContent = 'Next'\n    this.slideNext.classList.add('carousel-block__next')\n    this.slideNext.setAttribute('aria-hidden', 'true')\n    this.slideNext.setAttribute('tabindex', '-1')\n\n    this.el.appendChild(this.slidePrev)\n    this.el.appendChild(this.slideNext)\n  }\n\n  /*\n   * events\n   */\n\n  addListeners() {\n    this.slidePrev.addEventListener('click', this.prevSlide.bind(this))\n    this.slideNext.addEventListener('click', this.nextSlide.bind(this))\n\n    window.addEventListener(\n      'resize',\n      this.debounce(this.updateDimensions.bind(this), 50)\n    )\n\n    this.scrollTrack.addEventListener(\n      'scroll',\n      this.debounce(this.checkScroll.bind(this), 50)\n    )\n  }\n\n  checkScroll() {\n    let scrollPos = Math.round(\n      this.scrollTrack.scrollLeft / this.containerWidth\n    )\n    if (scrollPos !== this.current) this.updateCurrent(scrollPos)\n  }\n\n  updateCurrent(pos) {\n    this.current = pos\n    this.updateCaption()\n  }\n\n  updateDimensions() {\n    this.getContainerWidth()\n    this.setDimensions()\n\n    this.scrollTo(this.scrollTrack, this.containerWidth * this.current, 50)\n  }\n\n  updateCaption() {\n    let caption = this.slides[this.current].querySelector(\n      '[data-slide-caption]'\n    )\n    this.slideCaption.innerHTML = caption.innerHTML\n  }\n\n  prevSlide() {\n    this.changeSlides(-1)\n  }\n\n  nextSlide() {\n    this.changeSlides(1)\n  }\n\n  changeSlides(dir) {\n    let newSlide = this.current + dir\n    this.el.setAttribute('data-direction', dir === 1 ? 'next' : 'prev')\n\n    if (newSlide < 0) {\n      newSlide = this.numSlides - 1\n    } else if (newSlide > this.numSlides - 1) {\n      newSlide = 0\n    }\n\n    this.scrollTo(this.scrollTrack, this.containerWidth * newSlide, 200)\n  }\n\n  /*\n   * utilities\n   */\n\n  debounce(func, wait, immediate) {\n    let timeout\n\n    return function() {\n      let context = this,\n        args = arguments\n      let later = function() {\n        timeout = null\n        if (!immediate) func.apply(context, args)\n      }\n\n      let callNow = immediate && !timeout\n      clearTimeout(timeout)\n      timeout = setTimeout(later, wait)\n      if (callNow) func.apply(context, args)\n    }\n  }\n\n  scrollTo(element, to, duration) {\n    if (duration <= 0) return\n    let difference = to - element.scrollLeft\n    let perTick = difference / duration * 10\n\n    setTimeout(\n      function() {\n        element.scrollLeft = element.scrollLeft + perTick\n        if (element.scrollLeft === to) return\n        this.scrollTo(element, to, duration - 10)\n      }.bind(this),\n      10\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./views/modules/carousel-block/index.js"],"sourceRoot":""}